<!DOCTYPE html>
<html class="no-js" lang="pt-br">
  <head>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="alternate" href="https://devreads.sandordargo.com" hreflang="en-US">
<link href="http://gmpg.org/xfn/11" rel="profile">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="theme-color" content="#005344">
<title>The Art of Unit Testing by Roy Osherove | DevReads</title>
<meta name="google-site-verification" content="zS1dSn20XtA4FJYEOQLXqI0boxZdMnJ2g3beje-cl20">
<meta name="description" content="The best books for software developers not only about software development">
<meta name="keywords" content="site, website, book, books, development, software, improvement, learn, learning">
<!-- Social: Facebook / Open Graph -->
<meta property="og:url" content="https://devreads.sandordargo.com/the-art-of-unit-testing/">
<meta property="og:title" content="The Art of Unit Testing by Roy Osherove | DevReads">
<meta property="og:description" content="The best books for software developers not only about software development">
<meta property="og:site_name" content="Sandor Dargo">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="website">
<meta property="og:author" content="">
<meta property="og:image" content="https://devreads.sandordargo.com">
<!-- Social: Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@SandorDargo">
<meta name="twitter:domain" content="https://devreads.sandordargo.com">
<meta name="twitter:title" content="The Art of Unit Testing by Roy Osherove | DevReads">
<meta name="twitter:description" content="The best books for software developers not only about software development">
<meta name="twitter:image:src" content="https://devreads.sandordargo.com">
<!-- Favicons -->
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/images/ico/apple-touch-icon.png">
<link rel="shortcut icon" type="image/x-icon" href="/assets/images/ico/favicon.ico">
<!-- rel prev and next -->
<!-- Canonical link tag -->
<link rel="alternate" type="application/rss+xml" title="DevReads" href="https://devreads.sandordargo.com/feed.xml">
<link rel="stylesheet" href="/assets/css/main.css">
<script defer=false src="/assets/js/modernizr-custom.js"></script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Website",
  "publisher": "devreads.sandordargo.com",
  "url": "http://devreads.sandordargo.com/",
  "description": "The best books for software developers not only about software development"
}
</script>
<script type="text/javascript">
  var disqus_shortname = 'sandordargo-github-io',
      baseurl          = '';
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-89625019-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-89625019-2');
</script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>The Art of Unit Testing by Roy Osherove | The Best Developer Reads</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="The Art of Unit Testing by Roy Osherove" />
<meta name="author" content="Sandor Dargo" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Art of Unit Testing is useful for both beginner unit testers and for those who already have a bit of experience. While the edition I read is with C# examples it is useful and understandable for people who work in other languages. People like me." />
<meta property="og:description" content="The Art of Unit Testing is useful for both beginner unit testers and for those who already have a bit of experience. While the edition I read is with C# examples it is useful and understandable for people who work in other languages. People like me." />
<link rel="canonical" href="https://www.sandordargo.com/blog/2020/01/01/the-art-of-unit-testing" />
<meta property="og:url" content="https://www.sandordargo.com/blog/2020/01/01/the-art-of-unit-testing" />
<meta property="og:site_name" content="The Best Developer Reads" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-01T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"The Art of Unit Testing by Roy Osherove","dateModified":"2020-01-01T00:00:00+01:00","datePublished":"2020-01-01T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sandordargo.com/blog/2020/01/01/the-art-of-unit-testing"},"author":{"@type":"Person","name":"Sandor Dargo"},"url":"https://www.sandordargo.com/blog/2020/01/01/the-art-of-unit-testing","description":"The Art of Unit Testing is useful for both beginner unit testers and for those who already have a bit of experience. While the edition I read is with C# examples it is useful and understandable for people who work in other languages. People like me.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
  </head>
  <body class=" the-art-of-unit-testing">
    <header class="header">
  <div class="container">
    <h1><a href="/"><strong>DevReads</strong>.sandordargo.com</a></h1>
    <nav class="navbar">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="#!" data-modal="modalSearch"><i class="fa fa-search"></i></a></li>
       </ul>
    </nav>
  </div>
</header>
    <main class="wrapper container" itemprop="mainContentOfPage" itemscope="itemscope" itemtype="http://schema.org/Blog">
      <article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
  <header class="post-header">
    <h1>The Art of Unit Testing by Roy Osherove</h1>
    <div class="post-meta">
      <time datetime="2015-10-13">
        <i class="fa fa-calendar-o"></i> <time datetime="2020-01-01"> 2020-01-01
      </time>
      <span>
        <i class="fa fa-comments"></i> <a href="/the-art-of-unit-testing/#disqus_thread" data-disqus-identifier="/the-art-of-unit-testing">Leave a comment</a>
      </span>
      <span>
        <i class="fa fa-folder-open-o"></i> 
      </span>
    </div>
  </header>
  <p><a href="https://amzn.to/2S3gRVr">The Art of Unit Testing</a> is useful for both beginner unit testers and for those who already have a bit of experience. While the edition I read is with C# examples it is useful and understandable for people who work in other languages. People like me.
<!--more--></p>
<p>It is practical, probably as long as you work with statically typed languages, not like Python or Ruby. In dynamic languages, you can extend basically anything at any point in time. You can change behaviour, replace implementations, hence design for testability is not a concern - as confirmed by the author, <a href="https://osherove.com/">Roy Osherove</a>.</p>
<p>In the beginning, the author spends quite some time on defining what is unit testing and he iterates over several definitions reaching the final one:</p>
<blockquote>
  <p>“A unit test is an automated piece of code that invokes the unit of work being tested, and then checks some assumptions about a single end result of that unit. A unit test is almost always written using a unit testing framework. It can be written easily and runs quickly. It’s trustworthy, readable, and maintainable. It’s consistent in its results as long as production code hasn’t changed.”</p>
</blockquote>
<p>This also means that if a test uses the real system time, filesystem or a real database, it’s not a unit test anymore, but rather an integration test.</p>
<p>I had a discussion about this with other devs, and apparently there are many who accept certain “integration” tests as unit tests as long as they are deterministic and fast enough.</p>
<p>While the author discusses a lot <a href="https://en.wikipedia.org/wiki/Test-driven_development">Test Driven Development</a>, <a href="https://en.wikipedia.org/wiki/SOLID">Solid principles</a> and so, he claims that we can and should speak about three different areas:</p>
<ul>
  <li>unit testing</li>
  <li>code design</li>
  <li>test-driven development</li>
</ul>
<p>According to the author, while test-driven development is useful and has a lot of advantages including more testable code, it won’t lead automatically to better architecture. The above mentioned three areas are three different skills that one has to learn. The book focuses only on the first one, unit testing.</p>
<p>I found some interesting ideas in the book. At some points, I was a bit surprised and I thought that the content might be outdated. But maybe it was not out-of-date, just a bit language-specific. As an example, I prefer much more dependency injection compared to introducing inheritance just for the sake of unit testability. In C++, methods are not virtual by default and I prefer not to declare something virtual just in order to make it replaceable. Osherove is much more permissive with introducing inheritance for testing purposes. Again, this might depend on the language.</p>
<p>The book doesn’t only help you learn about unit testing, but also gives advice on where to start unit testing in legacy code - you should definitely read <a href="https://amzn.to/38NwJBn">Your Code as a Crime Scene</a> - and on how to introduce it in an organization, how to convince people. Though, these are not the main topics. If you want to get more detailed information on introducing changes, I’d advise you to read <a href="http://sandordargo.com/blog/2019/07/31/driving-technical-change">Driving Technical Change by Terrence Ryan</a>.</p>
<p>On the other hand, on unit testing best practices it really goes into details and if you have hard times to convince your peers about some techniques that you heard before here and there, now you have the perfect reference!</p>
<p>I’d mention one idea from the book, that I have never considered before, not even when I worked with Java and JUnit.</p>
<p>I thought that such a test for asserting that you expect an exception is great:</p>
<pre><code class="language-java">@Test(expected = IndexOutOfBoundsException.class)
public void testIndexOutOfBoundsException() {
    List emptyList = new 
    Object o = emptyList.get(0);
}
</code></pre>
<p>According to <a href="https://osherove.com/">Osherove</a>, it’s not.</p>
<p>The exception can come from any instruction, not just from the call that you actually want to test. So he prefers the following format instead.</p>
<pre><code class="language-java">@Test
public void doStuffThrowsIndexOutOfBoundsException() {
  Foo foo = new Foo();
  IndexOutOfBoundsException e = assertThrows(
    IndexOutOfBoundsException.class, foo::doStuff);
  assertThat(e).hasMessageThat().contains("woops!");
}
</code></pre>
<p>The point is that your assertion should consider only the call that you expect to throw, no more.</p>
<p>All in all, I liked <a href="https://amzn.to/2S3gRVr">The Art of Unit Testing</a> for its detailed insights. If you work with C#, most probably it’s the <em>goto</em> book on unit testing, but even for other languages, it is more than useful. Read it, adapt it to your language and help your team to unit test better!</p>
<p>Happy testing!</p>
  <footer class="post-footer">
    <section class="author">
      <h4>Sandor Dargo</h4>
      <p>C++ Developer, writer, speaker, traveller, happy father of two</p>
    </section>
<aside class="share">
  <h4>Share this.</h4>
  <a href="http://twitter.com/share?text=The Art of Unit Testing by Roy Osherove&amp;url=https://devreads.sandordargo.com/the-art-of-unit-testing/"
  onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
    <i class="fa fa-twitter-square"></i>
  </a>
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://devreads.sandordargo.com/the-art-of-unit-testing/"
  onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
    <i class="fa fa-facebook-square"></i>
  </a>
</aside>
   </footer>
    <!-- Begin Sendinblue Form -->
<!-- START - We recommend to place the below code in head tag of your website html  -->
<style>
  @font-face {
    font-display: block;
    font-family: Roboto;
    src: url(https://assets.sendinblue.com/font/Roboto/Latin/normal/normal/7529907e9eaf8ebb5220c5f9850e3811.woff2) format("woff2"), url(https://assets.sendinblue.com/font/Roboto/Latin/normal/normal/25c678feafdc175a70922a116c9be3e7.woff) format("woff")
  }
  @font-face {
    font-display: fallback;
    font-family: Roboto;
    font-weight: 600;
    src: url(https://assets.sendinblue.com/font/Roboto/Latin/medium/normal/6e9caeeafb1f3491be3e32744bc30440.woff2) format("woff2"), url(https://assets.sendinblue.com/font/Roboto/Latin/medium/normal/71501f0d8d5aa95960f6475d5487d4c2.woff) format("woff")
  }
  @font-face {
    font-display: fallback;
    font-family: Roboto;
    font-weight: 700;
    src: url(https://assets.sendinblue.com/font/Roboto/Latin/bold/normal/3ef7cf158f310cf752d5ad08cd0e7e60.woff2) format("woff2"), url(https://assets.sendinblue.com/font/Roboto/Latin/bold/normal/ece3a1d82f18b60bcce0211725c476aa.woff) format("woff")
  }
  #sib-container input:-ms-input-placeholder {
    text-align: left;
    font-family: "Helvetica", sans-serif;
    color: #c0ccda;
  }
  #sib-container input::placeholder {
    text-align: left;
    font-family: "Helvetica", sans-serif;
    color: #c0ccda;
  }
  #sib-container textarea::placeholder {
    text-align: left;
    font-family: "Helvetica", sans-serif;
    color: #c0ccda;
  }
</style>
<link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
<!--  END - We recommend to place the above code in head tag of your website html -->
<!-- START - We recommend to place the below code where you want the form in your website html  -->
<div class="sib-form" style="text-align: center;
         background-color: transparent;                                 ">
  <div id="sib-form-container" class="sib-form-container">
    <div id="error-message" class="sib-form-message-panel" style="font-size:16px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#661d1d; background-color:#ffeded; border-radius:3px; border-color:#ff4949;max-width:540px;">
      <div class="sib-form-message-panel__text sib-form-message-panel__text--center">
        <svg viewBox="0 0 512 512" class="sib-icon sib-notification__icon">
          <path d="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-11.49 120h22.979c6.823 0 12.274 5.682 11.99 12.5l-7 168c-.268 6.428-5.556 11.5-11.99 11.5h-8.979c-6.433 0-11.722-5.073-11.99-11.5l-7-168c-.283-6.818 5.167-12.5 11.99-12.5zM256 340c-15.464 0-28 12.536-28 28s12.536 28 28 28 28-12.536 28-28-12.536-28-28-28z"
          />
        </svg>
        <span class="sib-form-message-panel__inner-text">
                          Your subscription could not be saved. Please try again.
                      </span>
      </div>
    </div>
    <div></div>
    <div id="success-message" class="sib-form-message-panel" style="font-size:16px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#085229; background-color:#e7faf0; border-radius:3px; border-color:#13ce66;max-width:540px;">
      <div class="sib-form-message-panel__text sib-form-message-panel__text--center">
        <svg viewBox="0 0 512 512" class="sib-icon sib-notification__icon">
          <path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 464c-118.664 0-216-96.055-216-216 0-118.663 96.055-216 216-216 118.664 0 216 96.055 216 216 0 118.663-96.055 216-216 216zm141.63-274.961L217.15 376.071c-4.705 4.667-12.303 4.637-16.97-.068l-85.878-86.572c-4.667-4.705-4.637-12.303.068-16.97l8.52-8.451c4.705-4.667 12.303-4.637 16.97.068l68.976 69.533 163.441-162.13c4.705-4.667 12.303-4.637 16.97.068l8.451 8.52c4.668 4.705 4.637 12.303-.068 16.97z"
          />
        </svg>
        <span class="sib-form-message-panel__inner-text">
                          Thanks for subscribing. You&#039;ll receive our next monthly newsletter.
                      </span>
      </div>
    </div>
    <div></div>
    <div id="sib-container" class="sib-container--large sib-container--vertical" style="text-align:center; background-color:rgba(255,255,255,1); max-width:540px; border-width:0px; border-color:#C0CCD9; border-style:solid;">
      <form id="sib-form" method="POST" action="https://64b3a32b.sibforms.com/serve/MUIEAHgCpQyDtng8Cr-oUnsCVWSvlvQkmuBfoV8Ifx60L2czw3_fqH6Llv-ESLS3pzE6PFTliQgWEZ4XXhi14IW6TbdT5Uzs8k4nnelQ586Rx-1ELFbA1rnLROepFmmlbjXAWKKlgmJAgtOyf7g7il0YraC7-EEjPQNKZ7GB5WQjvkYF3d8vixBKsQaxT1UJD06Lj4BpcIuIVcP6"
        data-type="subscription">
        <div style="padding: 16px 0;">
          <div class="sib-form-block" style="font-size:32px; text-align:center; font-weight:700; font-family:&quot;Helvetica&quot;, sans-serif; color:#3C4858; background-color:transparent;">
            <p><strong>Subscribe</strong></p>
          </div>
        </div>
        <div style="padding: 16px 0;">
          <div class="sib-form-block" style="font-size:16px; text-align:center; font-family:&quot;Helvetica&quot;, sans-serif; color:#3C4858; background-color:transparent;">
            <div class="sib-text-form-block">
              <p>Get a monthly review on the best books for developers!</p>
            </div>
          </div>
        </div>
        <div style="padding: 16px 0;">
          <div class="sib-input sib-form-block">
            <div class="form__entry entry_block">
              <div class="form__label-row ">
                <div class="entry__field">
                  <input class="input" type="text" id="EMAIL" name="EMAIL" autocomplete="off" placeholder="Your e-mail" data-required="true" required />
                </div>
              </div>
              <label class="entry__error entry__error--primary" style="font-size:16px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#661d1d; background-color:#ffeded; border-radius:3px; border-color:#ff4949;">
              </label>
            </div>
          </div>
        </div>
        <div style="padding: 16px 0;">
          <div class="sib-form-block" style="text-align: center">
            <button class="sib-form-block__button sib-form-block__button-with-loader" style="font-size:16px; text-align:center; font-weight:700; font-family:&quot;Helvetica&quot;, sans-serif; color:#FFFFFF; background-color:#669ef2; border-radius:3px; border-width:0px;"
              form="sib-form" type="submit">
              <svg class="icon clickable__icon progress-indicator__icon sib-hide-loader-icon" viewBox="0 0 512 512">
                <path d="M460.116 373.846l-20.823-12.022c-5.541-3.199-7.54-10.159-4.663-15.874 30.137-59.886 28.343-131.652-5.386-189.946-33.641-58.394-94.896-95.833-161.827-99.676C261.028 55.961 256 50.751 256 44.352V20.309c0-6.904 5.808-12.337 12.703-11.982 83.556 4.306 160.163 50.864 202.11 123.677 42.063 72.696 44.079 162.316 6.031 236.832-3.14 6.148-10.75 8.461-16.728 5.01z"
                />
              </svg>
              Sign up for free
            </button>
          </div>
        </div>
        <input type="text" name="email_address_check" value="" class="input--hidden">
        <input type="hidden" name="locale" value="en">
      </form>
    </div>
  </div>
</div>
<!-- END - We recommend to place the below code where you want the form in your website html  -->
<!-- START - We recommend to place the below code in footer or bottom of your website html  -->
<script>
  window.REQUIRED_CODE_ERROR_MESSAGE = 'Please choose a country code';
  window.EMAIL_INVALID_MESSAGE = window.SMS_INVALID_MESSAGE = "The information provided is invalid. Please review the field format and try again.";
  window.REQUIRED_ERROR_MESSAGE = "This field cannot be left blank. ";
  window.GENERIC_INVALID_MESSAGE = "The information provided is invalid. Please review the field format and try again.";
  window.translation = {
    common: {
      selectedList: '{quantity} list selected',
      selectedLists: '{quantity} lists selected'
    }
  };
  var AUTOHIDE = Boolean(0);
</script>
<script src="https://sibforms.com/forms/end-form/build/main.js">
</script>
<!-- END - We recommend to place the above code in footer or bottom of your website html  -->
<!-- End Sendinblue Form -->
    <hr>
<aside id="comments" class="disqus">
  <h3 class="txt-center"><i class="fa fa-comments"></i> Comments</h3>
  <hr>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_identifier = '/the-art-of-unit-testing';
    var disqus_title = "The Art of Unit Testing by Roy Osherove";
    var disqus_url = 'https://devreads.sandordargo.com/the-art-of-unit-testing/';
    /*var disqus_developer = 1;*/
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
  </noscript>
</aside>
</article>
    </main>
<footer class="footer">
  <div class="container">
    <ul class="icons">
      <li>
        <a href="https://github.com/sandordargo/" class="icon-github" target="_blank">
          <i class="fa fa-github"></i>
        </a>
      </li>
<!--       <li>
        <a href="" class="icon-facebook" target="_blank">
          <i class="fa fa-facebook"></i>
        </a>
      </li>
 -->      <li>
        <a href="https://twitter.com/TheDevReads" class="icon-twitter" target="_blank">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
<!--       <li>
        <a href="" class="icon-instagram" target="_blank">
          <i class="fa fa-instagram"></i>
        </a>
      </li> -->
      <li>
        <a href="https://www.linkedin.com/in/sandor-dargo/" class="icon-linkedin" target="_blank">
          <i class="fa fa-linkedin"></i>
        </a>
      </li>
    </ul>
    <p>
      <q>Reading must become as natural as eating and breathing to you. It’s not something you do because you feel like it, but because it’s a reflex, a default.</q>
      <small>– Ryan Holiday</small>
    </p>
    <small class="clearfix">
      Made with <a href="http://jekyllrb.com" target="_blank">Jekyll</a>
    </small>
  </div>
</footer>
<div id="modalSearch" class="modal">
  <div class="modal__overlay"></div>
  <div class="modal__content">
    <a href="#!" class="modal-close" data-modal-close>&times;</a>
    <div class="search-container">
      <input type="text" id="search-input" placeholder="Search in 102 articles">
      <ul id="results-container"></ul>
    </div>
  </div>
</div>
<script defer=true src="/assets/js/main.js"></script>
  </body>
</html>